!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var t=function(e){(e=void 0!==e?e:document.body).insertAdjacentHTML("beforeend",'\n        <div class="bb-loading" style="display:flex;position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgb(0 0 0 / 60%);align-items:center;justify-content:center;z-index:10000;">\n            <img src="/img/loading_white.svg" style="width:40px;height:40px;" />\n        </div>\n    '),document.body.style.pointerEvents="none",document.body.style.overflow="hidden"},n=function(){document.querySelectorAll(".bb-loading").forEach((function(e){return e.remove()})),document.body.style.pointerEvents="",document.body.style.overflow=""};function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.formatMoney=function(e,t,n,r,o){t=isNaN(t=Math.abs(t))?2:t,n=null==n||n,r=null==r?".":r,o=null==o?",":o;var i=e<0?"-":"",c=String(parseInt(e=n?Math.abs(Number(e)||0).toFixed(t):Math.abs(Number(e)||0))),a=(a=c.length)>3?a%3:0;return i+(a?c.substr(0,a)+o:"")+c.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(t?r+Math.abs(e-c).toFixed(t).slice(2):"")};var i="bentobox_cart_"+BentoBox.siteSettings.siteId,c=Cookies.get(i);try{c=JSON.parse(c)}catch(e){c=[]}var a=function(e){c=e,Cookies.set(i,JSON.stringify(e))},l=function(){var e=Cookies.get(i);if(e)try{e=JSON.parse(e)}catch(t){e=[]}return e||[]},s=function(){var e=0;c.forEach((function(t){e+=t.qty})),document.querySelectorAll(".bb-store-cart-items").forEach((function(t){e?(t.style.display="flex",t.innerText=e):t.style.display="none"}))},u=function(e,t){if("undefined"!=typeof gtag&&BentoBox.siteSettings.hasGAStore){var n=document.querySelector(".bb-cart"),r=[],o=1;if((t?[t]:n.querySelectorAll(".bb-cart-line")).forEach((function(e){var t=e.querySelector(".bb-cart-product-price"),n=t?parseFloat(e.querySelector(".bb-cart-product-price").innerText):0,i=t?parseFloat(e.getAttribute("data-discount"))-n:0,c=e.querySelector(".sm-cart-qty")?parseInt(e.querySelector(".sm-cart-qty").value):0,a=e.querySelector(".bb-cart-product-choices"),l=a?String(a.innerText).replace(/\n/g," "):"";r.push({item_name:e.querySelector(".bb-cart-product-name").innerText,currency:gaConfig.currency,index:o,price:n,quantity:c,item_variant:l,discount:i}),o++})),r.length){var i=n.querySelector(".bb-cart-subtotal");gtag("event",e,{currency:gaConfig.currency,value:i?parseFloat(i.innerText):0,items:r})}}},d=function(e){var t=parseInt(e.target.value);if(!isNaN(t)){var n=document.querySelector(".bb-cart"),r=e.target.closest(".bb-cart-line"),o=0;n.querySelectorAll(".bb-cart-line").forEach((function(e){o+=parseFloat(e.getAttribute("data-price"))*parseInt(e.querySelector(".sm-cart-qty").value)})),n.querySelector(".bb-cart-subtotal").innerText=formatMoney(o);var i=l(),c=0;for(c=0;c<r.parentElement.children.length&&r.parentElement.children[c]!==r;c++);i[c]&&(0==t?(u("remove_from_cart",r),r.remove(),i.splice(c,1)):i[c]&&(i[c].qty=t),a(i),i.length&&0!=t||b(),s())}},b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=document.querySelector(".bb-cart"),i=o.querySelector(".bb-cart-body");if(e||!o.querySelector(".bb-cart-items")){if(!c.length)return i.innerHTML='\n            <div class="text-center mt-5">\n                <h5>Your Cart is Empty</h5>\n                <button class="btn mt-4">\n                    Continue Shopping\n                </button>\n            </div>\n        ',void i.querySelector(".btn").addEventListener("click",Store.hideCart,!1);i.innerHTML='\n        <div class="text-center mt-5">\n            <img src="/img/loading.svg" style="width:40px;height:40px;"/>\n        </div>\n    ';var a=BentoBox.siteSettings.siteId,l=new FormData;l.append("storeID",a),l.append("cart",JSON.stringify(c)),l.append("CFID",BentoBox.siteSettings.cfid),l.append("CFTOKEN",BentoBox.siteSettings.cftoken),fetch("/_storeManager.cart",{method:"POST",body:l}).then((function(e){return e.text()})).then((function(e){i.innerHTML=e;var c=i.querySelector('[name="sm-checkout-url"]'),a=i.querySelector('[name="sm-checkout-sign-in-url"]');(c||a)&&(i.querySelectorAll(".sm-cart-qty").forEach((function(e){for(var t=e.getAttribute("data-inventory"),n=e.getAttribute("data-current"),r="",o=1;o<=t;o++)r+='<option value="'+o+'" '+(o==n?"selected":"")+">"+o+"</option>";e.innerHTML=e.innerHTML+r,e.addEventListener("change",d,!1)})),u("view_cart"),a&&!r?o.addEventListener("submit",(function(e){return e.preventDefault()})):c&&o.setAttribute("action",c.value),o.querySelector(".bb-cart-checkout-btn").addEventListener("mouseup",(function(e){1==e.which&&(t(),a&&!r&&(document.location=a.value),setTimeout((function(){f(e),n()}),4e3))}),!1),o.querySelector(".bb-cart-continue-btn").addEventListener("click",Store.hideCart,!1),r&&document.querySelector(".bb-cart").submit())}))}},f=function(e){e.preventDefault(),document.querySelector(".bb-cart").classList.remove("show"),document.body.style.overflow=""},y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelector(".bb-cart");if(!n){var r='\n            <style>\n\n            .bb-cart.show .bb-cart-dialog {\n                transform: translateX(0);\n            }\n\n            .bb-cart.show .bb-cart-overlay { \n                display: block;\n            }\n\n            .bb-cart-dialog {\n                position: fixed;\n                top: 0;\n                right: 0;\n                height: 100%;\n                background: white;\n                min-height: 100%;\n                display: flex;\n                flex-direction: column;\n                width: 480px;\n                z-index: 201;\n                color: #000;\n                fill: #000;\n                transition: transform .5s cubic-bezier(.25, .46, .45, .94);\n                transform: translateX(100%);\n            }\n\n            .bb-cart-overlay {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n                background: rgba(0,0,0,.8);\n                cursor: pointer;\n                display: none;\n                z-index: 200;\n            }\n\n            .bb-cart-close-btn {\n                background: none !important;\n                border: 0;\n                padding: 8px;\n            }\n\n            @media only screen and (max-width: 480px) {\n                .bb-cart-dialog {\n                    width: 100vw;\n                }\n            }\n            </style>\n\n            <form class="bb-cart '.concat(t?"d-none":"",'  " method="post">\n                <div class="bb-cart-dialog bb-color-0 pb-5 px-3 px-md-0">\n                    <div class="mt-md-3 mt-0 mb-2 mb-md-5 px-0 px-md-5 d-flex align-items-center justify-content-between">\n                        <h5 class="mb-0">Cart</h5>\n                        <button class="bb-cart-close-btn btn" aria-label="Close Sidebar">\n                            <svg width="18px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m63 0l-63 63 193 193-193 193 63 63 193-193 193 193 63-63-193-193 193-193-63-63-193 193z"></path></svg>\n                        </button>\n                    </div>\n                    <div class="bb-cart-body w-100 h-100"></div>\n                </div>\n                <div class="bb-cart-overlay"></div>\n            </form>\n        ');document.body.insertAdjacentHTML("beforeend",r),(n=document.querySelector(".bb-cart")).querySelectorAll(".bb-cart-close-btn, .bb-cart-overlay").forEach((function(e){e.addEventListener("click",f,!1)}))}b(e,t),setTimeout((function(){document.body.style.overflow="hidden",n.classList.add("show")}),0)};return document.querySelectorAll(".bb-store-cart").forEach((function(e){e.addEventListener("click",(function(){y(!1)}),!1)})),window.location.search.includes("clearcart")&&a([]),s(),window.Store={addCartItem:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({itemKey:"",qty:0,customText:"",customTextLabel:"",fields:[]},e),n=l(),i=n.findIndex((function(e){return t.itemKey==e.itemKey&&t.customText==e.customText&&t.customTextLabel==t.customTextLabel&&JSON.stringify(t.fields)==JSON.stringify(e.fields)}));-1==i?(t.qty=Math.max(t.qty,1),t.createdAt=(new Date).toISOString(),n.push(t)):(t.updatedAt=(new Date).toISOString(),t.createdAt||(t.createdAt=t.updatedAt),n[i].qty=n[i].qty+Math.max(t.qty,1)),a(n),s(n),y(!0)},showCart:y,hideCart:f,checkout:function(){y(!1,!0)},getDiscountedPrice:function(e,t,n){var r=e;return t>0&&("%"===n?r*=1-t/100:r-=t),r}},e})()}));